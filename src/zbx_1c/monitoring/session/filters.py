"""
–ú–æ–¥—É–ª—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π 1–°:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è.

–°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ¬´–∞–∫—Ç–∏–≤–Ω–æ–π¬ª —Å–µ—Å—Å–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤:
1. –°—Ç–∞—Ç—É—Å–∞ —Å–ø—è—â–µ–≥–æ —Ä–µ–∂–∏–º–∞ (–ø–æ–ª–µ 'hibernate') ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –∫—Ä–∏—Ç–µ—Ä–∏–π
2. –í—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø–æ–ª–µ 'last-active-at') ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –∫—Ä–∏—Ç–µ—Ä–∏–π
3. –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç (–ø–æ–ª–µ 'calls-last-5min') ‚Äî –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô
4. –¢—Ä–∞—Ñ–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç (–ø–æ–ª–µ 'bytes-last-5min') ‚Äî –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

‚ö†Ô∏è –í–ê–ñ–ù–û: –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è ‚â† –ø—Ä–æ—Å—Ç–æ ¬´–æ—Ç–∫—Ä—ã—Ç–∞—è¬ª —Å–µ—Å—Å–∏—è.
–ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è ‚Äî —ç—Ç–æ —Å–µ—Å—Å–∏—è, —Å –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∞–ª—å–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç
–≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç).

üìä –£—Ä–æ–≤–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–£—Ä–æ–≤–µ–Ω—å 1 (–ë–∞–∑–æ–≤—ã–π): –¢–æ–ª—å–∫–æ hibernate
    ‚Üí is_session_active(session)
    ‚Üí –°—á–∏—Ç–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≤—Å–µ —Å–µ—Å—Å–∏–∏, –Ω–µ –≤ —Å–ø—è—â–µ–º —Ä–µ–∂–∏–º–µ

–£—Ä–æ–≤–µ–Ω—å 2 (–ü–æ –≤—Ä–µ–º–µ–Ω–∏): hibernate + last-active-at
    ‚Üí is_session_active(session, threshold_minutes=5)
    ‚Üí –¢—Ä–µ–±—É–µ—Ç —Å–≤–µ–∂—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

–£—Ä–æ–≤–µ–Ω—å 3 (–ü–æ –≤—ã–∑–æ–≤–∞–º): hibernate + last-active-at + calls
    ‚Üí is_session_active(session, check_activity=True, min_calls=1)
    ‚Üí –¢—Ä–µ–±—É–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã —Å–µ—Ä–≤–µ—Ä–∞

–£—Ä–æ–≤–µ–Ω—å 4 (–°—Ç—Ä–æ–≥–∏–π): –í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ + —Ç—Ä–∞—Ñ–∏–∫
    ‚Üí is_session_active(session, check_activity=True, check_traffic=True,
                        min_calls=5, min_bytes=1000)
    ‚Üí –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

üìã –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π 1 (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô): hibernate == 'no'
    –°–µ—Å—Å–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–ø—è—â–µ–º —Ä–µ–∂–∏–º–µ.
    –ï—Å–ª–∏ hibernate == 'yes' ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞ (—Å–µ—Ä–≤–µ—Ä –µ—ë ¬´—É—Å—ã–ø–∏–ª¬ª).

‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π 2 (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô): last-active-at < threshold_minutes
    –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–≤–µ–∂–µ–µ –ø–æ—Ä–æ–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç).
    –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ –¥–æ–ª—å—à–µ ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

‚öôÔ∏è –ö—Ä–∏—Ç–µ—Ä–∏–π 3 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô): calls-last-5min >= min_calls
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_activity=True.
    –ï—Å–ª–∏ –≤—ã–∑–æ–≤–æ–≤ –º–µ–Ω—å—à–µ min_calls ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

‚öôÔ∏è –ö—Ä–∏—Ç–µ—Ä–∏–π 4 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô): bytes-last-5min >= min_bytes
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_traffic=True.
    –ï—Å–ª–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–Ω—å—à–µ min_bytes ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# 1. –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–≤—Å–µ —Å–µ—Å—Å–∏–∏ –Ω–µ –≤ hibernate)
active = filter_active_sessions(sessions)

# 2. –°—Ç—Ä–æ–≥–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ç–æ–ª—å–∫–æ —Å –≤—ã–∑–æ–≤–∞–º–∏ >= 10)
active = filter_active_sessions(sessions, check_activity=True, min_calls=10)

# 3. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∏–π (–≤—ã–∑–æ–≤—ã + —Ç—Ä–∞—Ñ–∏–∫)
active = filter_active_sessions(
    sessions,
    check_activity=True, min_calls=5,
    check_traffic=True, min_bytes=1000
)

# 4. –î–ª—è Zabbix (—Å—á–∏—Ç–∞–µ–º –≤—Å–µ –Ω–µ-hibernate —Å–µ—Å—Å–∏–∏)
active_sessions = sum(1 for s in sessions if s.get("hibernate") == "no")
"""

from datetime import datetime, timedelta
from typing import List, Dict, Any

# ============================================================================
# –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò
# ============================================================================


def is_session_active(
    session: Dict[str, Any],
    threshold_minutes: int = 5,
    check_activity: bool = False,
    check_traffic: bool = False,
    min_calls: int = 0,
    min_bytes: int = 0,
) -> bool:
    """
    –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–µ—Å—Å–∏—è 1–° –∞–∫—Ç–∏–≤–Ω–æ–π, –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.

    üìã –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π 1 (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô): hibernate == 'no'
        –°–µ—Å—Å–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–ø—è—â–µ–º —Ä–µ–∂–∏–º–µ.
        –ï—Å–ª–∏ hibernate == 'yes' ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞ (—Å–µ—Ä–≤–µ—Ä –µ—ë ¬´—É—Å—ã–ø–∏–ª¬ª).

    ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π 2 (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô): last-active-at < threshold_minutes
        –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–≤–µ–∂–µ–µ –ø–æ—Ä–æ–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç).
        –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ –¥–æ–ª—å—à–µ ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

    ‚öôÔ∏è –ö—Ä–∏—Ç–µ—Ä–∏–π 3 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô): calls-last-5min >= min_calls
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_activity=True.
        –ï—Å–ª–∏ –≤—ã–∑–æ–≤–æ–≤ –º–µ–Ω—å—à–µ min_calls ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

    ‚öôÔ∏è –ö—Ä–∏—Ç–µ—Ä–∏–π 4 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô): bytes-last-5min >= min_bytes
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_traffic=True.
        –ï—Å–ª–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–Ω—å—à–µ min_bytes ‚Üí —Å–µ—Å—Å–∏—è –ù–ï –∞–∫—Ç–∏–≤–Ω–∞.

    üéØ –£—Ä–æ–≤–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    –£—Ä–æ–≤–µ–Ω—å 1 (–ë–∞–∑–æ–≤—ã–π): –¢–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
        ‚Üí is_session_active(session)
        ‚Üí –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π (Zabbix)

    –£—Ä–æ–≤–µ–Ω—å 2 (–° –≤—ã–∑–æ–≤–∞–º–∏): + –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        ‚Üí is_session_active(session, check_activity=True, min_calls=1)
        ‚Üí –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

    –£—Ä–æ–≤–µ–Ω—å 3 (–°—Ç—Ä–æ–≥–∏–π): + –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
        ‚Üí is_session_active(session, check_activity=True, check_traffic=True,
                            min_calls=5, min_bytes=1000)
        ‚Üí –î–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        session (Dict[str, Any]): –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏
                                  –∏–∑ –≤—ã–≤–æ–¥–∞ `rac session list`.
                                  –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: 'hibernate', 'last-active-at'.
                                  –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–ª—è: 'calls-last-5min', 'bytes-last-5min'.
        threshold_minutes (int): –ü–æ—Ä–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö.
                                 –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç.
                                 –°–µ—Å—Å–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π, –µ—Å–ª–∏ last-active-at —Å—Ç–∞—Ä—à–µ —ç—Ç–æ–≥–æ –ø–æ—Ä–æ–≥–∞.
        check_activity (bool): –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ calls-last-5min.
                               False (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –∫—Ä–∏—Ç–µ—Ä–∏–π –æ—Ç–∫–ª—é—á–µ–Ω.
                               True ‚Äî —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ calls >= min_calls.
        check_traffic (bool): –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –ø–æ bytes-last-5min.
                              False (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –∫—Ä–∏—Ç–µ—Ä–∏–π –æ—Ç–∫–ª—é—á–µ–Ω.
                              True ‚Äî —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ bytes >= min_bytes.
        min_calls (int): –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –∑–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
                         –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ).
                         –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_activity=True.
        min_bytes (int): –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –±–∞–π—Ç–∞—Ö –∑–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
                         –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–ª—é–±–æ–π —Ç—Ä–∞—Ñ–∏–∫).
                         –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ check_traffic=True.

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        bool: True ‚Äî —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞ (–≤—Å–µ –≤–∫–ª—é—á—ë–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã),
              False ‚Äî —Å–µ—Å—Å–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞.

    –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
        >>> session = {
        ...     'hibernate': 'no',
        ...     'last-active-at': '2026-02-11T10:06:04',
        ...     'calls-last-5min': '36',
        ...     'bytes-last-5min': '103675'
        ... }

        >>> # –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ç–æ–ª—å–∫–æ hibernate + last-active-at)
        >>> is_session_active(session)
        True

        >>> # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –≤—ã–∑–æ–≤–∞–º–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è calls >= 10)
        >>> is_session_active(session, check_activity=True, min_calls=10)
        True

        >>> # –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–≤—ã–∑–æ–≤—ã + —Ç—Ä–∞—Ñ–∏–∫)
        >>> is_session_active(session, check_activity=True, check_traffic=True,
        ...                   min_calls=10, min_bytes=1000)
        True

        >>> # –°–µ—Å—Å–∏—è –≤ —Å–ø—è—â–µ–º —Ä–µ–∂–∏–º–µ (–Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
        >>> session = {
        ...     'hibernate': 'yes',
        ...     'last-active-at': '2026-02-10T15:56:51',
        ...     'calls-last-5min': '0'
        ... }
        >>> is_session_active(session)
        False

    –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        ‚Ä¢ –ï—Å–ª–∏ –ø–æ–ª—è 'calls-last-5min' –∏–ª–∏ 'bytes-last-5min' –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã,
          –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫—Ä–∏—Ç–µ—Ä–∏–π –≤–∫–ª—é—á—ë–Ω (check_activity=True –∏–ª–∏ check_traffic=True),
          —Ñ—É–Ω–∫—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω—ã–º 0 –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç False (–µ—Å–ª–∏ min_calls > 0 –∏–ª–∏ min_bytes > 0).
        ‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã: —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ISO-—Å—Ç—Ä–æ–∫–∏ —Å –∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã.
        ‚Ä¢ –î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ filter_active_sessions().
    """
    # -------------------------------------------------------------------------
    # –ö–†–ò–¢–ï–†–ò–ô 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø—è—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
    # -------------------------------------------------------------------------
    # –ü–æ–ª–µ 'hibernate' –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –ª–∏ —Å–µ—Å—Å–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º –≤ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–∏–π —Ä–µ–∂–∏–º.
    # ‚Ä¢ 'no' ‚Äî —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞ (–Ω–µ –≤ —Å–ø—è—â–µ–º —Ä–µ–∂–∏–º–µ)
    # ‚Ä¢ 'yes' ‚Äî —Å–µ—Å—Å–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑-–∑–∞ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è > 20 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    #
    # ‚ö†Ô∏è –î–∞–∂–µ –µ—Å–ª–∏ 'last-active-at' —Å–≤–µ–∂–∏–π, –Ω–æ 'hibernate' = 'yes' ‚Äî
    #    —Å–µ—Å—Å–∏—è –ù–ï —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π (—Å–µ—Ä–≤–µ—Ä –µ—ë "—É—Å—ã–ø–∏–ª").
    if session.get("hibernate") == "yes":
        return False

    # -------------------------------------------------------------------------
    # –ö–†–ò–¢–ï–†–ò–ô 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    # -------------------------------------------------------------------------
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 'last-active-at' —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –º–∏–Ω—É—Å –ø–æ—Ä–æ–≥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç).
    try:
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º ISO-—Å—Ç—Ä–æ–∫—É –≤ –æ–±—ä–µ–∫—Ç datetime
        # –ü—Ä–∏–º–µ—Ä—ã –≤—Ö–æ–¥–Ω—ã—Ö —Å—Ç—Ä–æ–∫:
        #   '2026-02-11T10:06:04'        ‚Üí naive datetime (–±–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã)
        #   '2026-02-11T10:06:04Z'       ‚Üí UTC (–∑–∞–º–µ–Ω—è–µ–º 'Z' –Ω–∞ '+00:00')
        #   '2026-02-11T10:06:04+03:00'  ‚Üí —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã
        last_active_str = session["last-active-at"].replace("Z", "+00:00")
        last_active = datetime.fromisoformat(last_active_str)

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Ç–æ–π –∂–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω–µ, —á—Ç–æ –∏ last_active
        # ‚Ä¢ –ï—Å–ª–∏ last_active –∏–º–µ–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É (tzinfo) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
        # ‚Ä¢ –ò–Ω–∞—á–µ ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º (naive datetime)
        if last_active.tzinfo:
            now = datetime.now(last_active.tzinfo)
        else:
            now = datetime.now()

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ –ø–æ–∑–∂–µ, —á–µ–º (—Å–µ–π—á–∞—Å - –ø–æ—Ä–æ–≥)
        if last_active < now - timedelta(minutes=threshold_minutes):
            return False

    except (ValueError, KeyError, TypeError):
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
        # ‚Ä¢ ValueError ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã
        # ‚Ä¢ KeyError ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ 'last-active-at'
        # ‚Ä¢ TypeError ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π
        #
        # –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ —Å—á–∏—Ç–∞–µ–º —Å–µ—Å—Å–∏—é –ù–ï–ê–ö–¢–ò–í–ù–û–ô (–∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
        return False

    # -------------------------------------------------------------------------
    # –ö–†–ò–¢–ï–†–ò–ô 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)
    # -------------------------------------------------------------------------
    # –ï—Å–ª–∏ check_activity=True, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
    if check_activity:
        try:
            calls_str = session.get("calls-last-5min", "0")
            calls = int(calls_str) if calls_str else 0
            if calls < min_calls:
                return False
        except (ValueError, TypeError):
            # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å, —Å—á–∏—Ç–∞–µ–º —á—Ç–æ –≤—ã–∑–æ–≤–æ–≤ –Ω–µ –±—ã–ª–æ
            if min_calls > 0:
                return False

    # -------------------------------------------------------------------------
    # –ö–†–ò–¢–ï–†–ò–ô 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)
    # -------------------------------------------------------------------------
    # –ï—Å–ª–∏ check_traffic=True, –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—ä—ë–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    if check_traffic:
        try:
            bytes_str = session.get("bytes-last-5min", "0")
            bytes_ = int(bytes_str) if bytes_str else 0
            if bytes_ < min_bytes:
                return False
        except (ValueError, TypeError):
            # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å, —Å—á–∏—Ç–∞–µ–º —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–µ –±—ã–ª–æ
            if min_bytes > 0:
                return False

    # -------------------------------------------------------------------------
    # –ò–¢–û–ì: –í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã ‚Üí —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞
    # -------------------------------------------------------------------------
    return True


def filter_active_sessions(
    sessions: List[Dict[str, Any]],
    threshold_minutes: int = 5,
    check_activity: bool = False,
    check_traffic: bool = False,
    min_calls: int = 0,
    min_bytes: int = 0,
) -> List[Dict[str, Any]]:
    """
    –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        sessions (List[Dict[str, Any]]): –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ—Å—Å–∏–π.
                                         –ö–∞–∂–¥—ã–π —Å–ª–æ–≤–∞—Ä—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª—è,
                                         –æ–∂–∏–¥–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–µ–π is_session_active().
        threshold_minutes (int): –ü–æ—Ä–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 5.
        check_activity (bool): –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ calls-last-5min.
        check_traffic (bool): –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –ø–æ bytes-last-5min.
        min_calls (int): –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –∑–∞ 5 –º–∏–Ω—É—Ç.
        min_bytes (int): –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –±–∞–π—Ç–∞—Ö –∑–∞ 5 –º–∏–Ω—É—Ç.

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        List[Dict[str, Any]]: –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π (—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ø–∏—è –≤—Ö–æ–¥–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞).

    –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
        >>> all_sessions = parse_rac_output(rac_stdout)
        >>> # –°—Ç—Ä–æ–≥–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ —Å–µ—Å—Å–∏–∏ —Å –≤—ã–∑–æ–≤–∞–º–∏ >= 10 –∏ —Ç—Ä–∞—Ñ–∏–∫–æ–º >= 1000 –±–∞–π—Ç
        >>> active = filter_active_sessions(all_sessions, check_activity=True, check_traffic=True, min_calls=10, min_bytes=1000)
        >>> print(f"–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π: {len(active)}")
        –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π: 3

    –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
        ‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ù–û–í–´–ô —Å–ø–∏—Å–æ–∫ ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è.
        ‚Ä¢ –ü—É—Å—Ç–æ–π –≤—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫ ‚Üí –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–±–µ–∑ –æ—à–∏–±–æ–∫).
        ‚Ä¢ –î–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è is_session_active().
    """
    return [
        s
        for s in sessions
        if is_session_active(
            s,
            threshold_minutes=threshold_minutes,
            check_activity=check_activity,
            check_traffic=check_traffic,
            min_calls=min_calls,
            min_bytes=min_bytes,
        )
    ]


# ============================================================================
# –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
# ============================================================================


def get_session_summary(session: Dict[str, Any]) -> str:
    """
    –§–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤—ã–≤–æ–¥–∞.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        session (Dict[str, Any]): –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ—Å—Å–∏–∏.

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        str: –°—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ "User: –ò–≤–∞–Ω–æ–≤ –ò.–ò. | App: 1CV8C | Last: 10:06:04 | Calls: 36"

    –ü—Ä–∏–º–µ—Ä:
        >>> session = {
        ...     'user-name': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
        ...     'app-id': '1CV8C',
        ...     'last-active-at': '2026-02-11T10:06:04',
        ...     'calls-last-5min': '36'
        ... }
        >>> get_session_summary(session)
        'User: –ò–≤–∞–Ω–æ–≤ –ò.–ò.     | App: 1CV8C   | Last: 10:06:04 | Calls: 36'
    """
    user = session.get("user-name", "N/A")
    # –°–æ–∫—Ä–∞—â–∞–µ–º –§–ò–û –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" ‚Üí "–ò–≤–∞–Ω–æ–≤ –ò.–ò."
    if " " in user:
        parts = user.split()
        if len(parts) >= 3:
            user = f"{parts[0]} {parts[1][0]}.{parts[2][0]}."

    app = session.get("app-id", "N/A")
    last_active = (
        session.get("last-active-at", "N/A").split("T")[-1][:8]
        if "T" in session.get("last-active-at", "")
        else session.get("last-active-at", "N/A")
    )
    calls = session.get("calls-last-5min", "N/A")

    return f"User: {user:20} | App: {app:8} | Last: {last_active} | Calls: {calls}"


# ============================================================================
# –¢–ï–°–¢–û–í–´–ô –ë–õ–û–ö (–¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–¥—É–ª—è)
# ============================================================================

if __name__ == "__main__":
    # –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∏–º–∏—Ç–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ rac session list)
    test_sessions = [  # ‚Üê –ò–ú–Ø –ë–ï–ó 'session' –í –ö–û–†–ù–ï (–∏–∑–±–µ–≥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'session')
        {
            "hibernate": "no",
            "last-active-at": "2026-02-11T10:06:04",
            "calls-last-5min": "36",
            "bytes-last-5min": "103675",
            "user-name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
            "app-id": "1CV8C",
        },
        {
            "hibernate": "yes",  # ‚Üê —Å–ø—è—â–∏–π —Ä–µ–∂–∏–º
            "last-active-at": "2026-02-10T15:56:51",
            "calls-last-5min": "0",
            "user-name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å2",
            "app-id": "1CV8",
        },
        {
            "hibernate": "no",
            "last-active-at": "2026-02-11T10:06:54",
            "calls-last-5min": "0",  # ‚Üê –Ω–µ—Ç –≤—ã–∑–æ–≤–æ–≤
            "bytes-last-5min": "0",  # ‚Üê –Ω–µ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞
            "user-name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å3",
            "app-id": "Designer",
        },
    ]

    print("–¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π:")
    print("=" * 70)

    active = filter_active_sessions(test_sessions)

    print(f"\n–í—Å–µ–≥–æ —Å–µ—Å—Å–∏–π: {len(test_sessions)}")
    print(f"–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π: {len(active)}\n")

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º 's' –≤–º–µ—Å—Ç–æ 'session' –≤ —Ü–∏–∫–ª–µ (–∏–∑–±–µ–≥–∞–µ–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏)
    for i, s in enumerate(active, 1):
        print(f"{i}. {get_session_summary(s)}")

    print("\n" + "=" * 70)
    print("‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω. –ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.")
